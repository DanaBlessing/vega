<html>
  <head>
    <title>Testing SVG Symbol Shapes</title>
    <script src="https://vega.github.io/vega-editor/vendor/d3.min.js"></script>
    <script src="vega.js"></script>

    <!-- Change to different config files -->
    <script src="shape_test/configs/shape_config.js"></script>
    <script>
      function getOption() {
        // parse a spec and create a visualization view
        function parse(spec) {
          var renderType = getSelected('renderSelect');
          var funcCall;
          if (renderType === 'canvas') {
            funcCall = function(chart) { chart({el:"#vis"}).update(); };
          } else {
            funcCall = function(chart) { chart({el:"#vis", renderer: 'svg'}).update(); };
          }
          //vg.parse.spec(spec, config, function(chart) { chart({el:"#vis", renderer: 'svg'}).update(); });
          vg.parse.spec(spec, config, funcCall);
        }
        // Change to selected chart spec
        parse("shape_test/spec/" + getSelected("chartSelect") + ".json");
      }
      function getSelected(id) {
        var element = document.getElementById(id);
        return element.options[element.selectedIndex].text
      }
      function openNewTab(type) {
        var url;
        if (type === 'theme') {
          url = "shape_test/configs/shape_config.js";
        } else {
          url = "shape_test/spec/" + getSelected("chartSelect") + ".json";
        }
        window.open(url, '_blank');
      }
    </script>
  </head>
  <body>
    <form>
      Render Type:
      <select id="renderSelect">
        <option>canvas</option>
        <option>svg</option>
      </select>

      Chart:
      <select id="chartSelect">
        <option>legend_tester</option>
        <option>legend_arrow</option>
        <option>legend_default_diamond</option>
        <option>legend_diamond</option>
        <option>legend_config_star</option>
        <option>legend_multiple_triangles</option>
        <option>legend_house</option>
        <option>legend_excel_line_symbol</option>
        <option>mark_symbol_stars</option>
      </select>

      <input type="button" onclick="getOption()" value="Render">
    </form>
    <div>
      <input type="button" onclick="openNewTab('theme')" value="Show config">
      <input type="button" onclick="openNewTab('chart')" value="Show chart">
    </div>
    <div id="vis"></div>
  </body>
</html>